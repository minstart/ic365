import{o as e,p as t,q as l,s as o,n as s,al as a,j as n,t as u,y as i,A as p,bm as c,h as d,ac as r,d as f,F as g,f as h,bn as m,x as _,K as x,L as y,N as b,m as T}from"./index-DQotwNSd.js";import{_ as C}from"./uni-card.DtmtsBix.js";import{r as k}from"./uni-app.es.Dfk47BXh.js";import{_ as w}from"./uni-section.DD6p8Tlx.js";import{_ as $}from"./uni-popup.jkbdaXzd.js";import{_ as v}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-transition.CMQQwnrp.js";const S={data:()=>({}),created(){this.popup=this.getParent()},methods:{getParent(e="uniPopup"){let t=this.$parent,l=t.$options.name;for(;l!==e;){if(t=t.$parent,!t)return!1;l=t.$options.name}return t}}};const D=v({name:"uniPopupMessage",mixins:[S],props:{type:{type:String,default:"success"},message:{type:String,default:""},duration:{type:Number,default:3e3},maskShow:{type:Boolean,default:!1}},data:()=>({}),created(){this.popup.maskShow=this.maskShow,this.popup.messageChild=this},methods:{timerClose(){0!==this.duration&&(clearTimeout(this.timer),this.timer=setTimeout((()=>{this.popup.close()}),this.duration))}}},[["render",function(c,d,r,f,g,h){const m=i,_=p;return e(),t(_,{class:"uni-popup-message"},{default:l((()=>[o(_,{class:s(["uni-popup-message__box fixforpc-width","uni-popup__"+r.type])},{default:l((()=>[a(c.$slots,"default",{},(()=>[o(m,{class:s(["uni-popup-message-text","uni-popup__"+r.type+"-text"])},{default:l((()=>[n(u(r.message),1)])),_:1},8,["class"])]),!0)])),_:3},8,["class"])])),_:3})}],["__scopeId","data-v-d81cfb56"]]),j={en:{"uni-popup.cancel":"cancel","uni-popup.ok":"ok","uni-popup.placeholder":"pleace enter","uni-popup.title":"Hint","uni-popup.shareTitle":"Share to"},"zh-Hans":{"uni-popup.cancel":"取消","uni-popup.ok":"确定","uni-popup.placeholder":"请输入","uni-popup.title":"提示","uni-popup.shareTitle":"分享到"},"zh-Hant":{"uni-popup.cancel":"取消","uni-popup.ok":"確定","uni-popup.placeholder":"請輸入","uni-popup.title":"提示","uni-popup.shareTitle":"分享到"}},{t:q}=c(j);const P=v({name:"uniPopupDialog",mixins:[S],emits:["confirm","close","update:modelValue","input"],props:{inputType:{type:String,default:"text"},showClose:{type:Boolean,default:!0},modelValue:{type:[Number,String],default:""},placeholder:{type:[String,Number],default:""},type:{type:String,default:"error"},mode:{type:String,default:"base"},title:{type:String,default:""},content:{type:String,default:""},beforeClose:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""},maxlength:{type:Number,default:-1},focus:{type:Boolean,default:!0}},data:()=>({dialogType:"error",val:""}),computed:{okText(){return this.confirmText||q("uni-popup.ok")},closeText(){return this.cancelText||q("uni-popup.cancel")},placeholderText(){return this.placeholder||q("uni-popup.placeholder")},titleText(){return this.title||q("uni-popup.title")}},watch:{type(e){this.dialogType=e},mode(e){"input"===e&&(this.dialogType="info")},value(e){-1!=this.maxlength&&"input"===this.mode?this.val=e.slice(0,this.maxlength):this.val=e},val(e){this.$emit("update:modelValue",e)}},created(){this.popup.disableMask(),"input"===this.mode?(this.dialogType="info",this.val=this.value,this.val=this.modelValue):this.dialogType=this.type},methods:{onOk(){"input"===this.mode?this.$emit("confirm",this.val):this.$emit("confirm"),this.beforeClose||this.popup.close()},closeDialog(){this.$emit("close"),this.beforeClose||this.popup.close()},close(){this.popup.close()}}},[["render",function(c,f,g,h,m,_){const x=i,y=p,b=r;return e(),t(y,{class:"uni-popup-dialog"},{default:l((()=>[o(y,{class:"uni-dialog-title"},{default:l((()=>[o(x,{class:s(["uni-dialog-title-text",["uni-popup__"+m.dialogType]])},{default:l((()=>[n(u(_.titleText),1)])),_:1},8,["class"])])),_:1}),"base"===g.mode?(e(),t(y,{key:0,class:"uni-dialog-content"},{default:l((()=>[a(c.$slots,"default",{},(()=>[o(x,{class:"uni-dialog-content-text"},{default:l((()=>[n(u(g.content),1)])),_:1})]),!0)])),_:3})):(e(),t(y,{key:1,class:"uni-dialog-content"},{default:l((()=>[a(c.$slots,"default",{},(()=>[o(b,{class:"uni-dialog-input",maxlength:g.maxlength,modelValue:m.val,"onUpdate:modelValue":f[0]||(f[0]=e=>m.val=e),type:g.inputType,placeholder:_.placeholderText,focus:g.focus},null,8,["maxlength","modelValue","type","placeholder","focus"])]),!0)])),_:3})),o(y,{class:"uni-dialog-button-group"},{default:l((()=>[g.showClose?(e(),t(y,{key:0,class:"uni-dialog-button",onClick:_.closeDialog},{default:l((()=>[o(x,{class:"uni-dialog-button-text"},{default:l((()=>[n(u(_.closeText),1)])),_:1})])),_:1},8,["onClick"])):d("",!0),o(y,{class:s(["uni-dialog-button",g.showClose?"uni-border-left":""]),onClick:_.onOk},{default:l((()=>[o(x,{class:"uni-dialog-button-text uni-button-color"},{default:l((()=>[n(u(_.okText),1)])),_:1})])),_:1},8,["class","onClick"])])),_:1})])),_:3})}],["__scopeId","data-v-dc2a088f"]]),{t:V}=c(j);const z=v({name:"UniPopupShare",mixins:[S],emits:["select"],props:{title:{type:String,default:""},beforeClose:{type:Boolean,default:!1}},data:()=>({bottomData:[{text:"微信",icon:"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/unicloudlogo.png",name:"wx"},{text:"支付宝",icon:"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/unicloudlogo.png",name:"ali"},{text:"QQ",icon:"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/unicloudlogo.png",name:"qq"},{text:"新浪",icon:"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/unicloudlogo.png",name:"sina"}]}),created(){},computed:{cancelText:()=>V("uni-popup.cancel"),shareTitleText(){return this.title||V("uni-popup.shareTitle")}},methods:{select(e,t){this.$emit("select",{item:e,index:t}),this.close()},close(){this.beforeClose||this.popup.close()}}},[["render",function(s,a,c,d,r,y){const b=i,T=p,C=_,k=x;return e(),t(T,{class:"uni-popup-share"},{default:l((()=>[o(T,{class:"uni-share-title"},{default:l((()=>[o(b,{class:"uni-share-title-text"},{default:l((()=>[n(u(y.shareTitleText),1)])),_:1})])),_:1}),o(T,{class:"uni-share-content"},{default:l((()=>[o(T,{class:"uni-share-content-box"},{default:l((()=>[(e(!0),f(g,null,h(r.bottomData,((s,a)=>(e(),t(T,{class:"uni-share-content-item",key:a,onClick:m((e=>y.select(s,a)),["stop"])},{default:l((()=>[o(C,{class:"uni-share-image",src:s.icon,mode:"aspectFill"},null,8,["src"]),o(b,{class:"uni-share-text"},{default:l((()=>[n(u(s.text),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),o(T,{class:"uni-share-button-box"},{default:l((()=>[o(k,{class:"uni-share-button",onClick:y.close},{default:l((()=>[n(u(y.cancelText),1)])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-2a810589"]]);const I=v({data:()=>({type:"center",msgType:"success",messageText:"这是一条成功提示",value:""}),onReady(){},methods:{change(e){console.log("当前模式："+e.type+",状态："+e.show)},toggle(e){this.type=e,this.$refs.popup.open(e)},messageToggle(e){this.msgType=e,this.messageText=`这是一条${e}消息提示`,this.$refs.message.open()},dialogToggle(e){this.msgType=e,this.$refs.alertDialog.open()},dialogConfirm(){console.log("点击确认"),this.messageText=`点击确认了 ${this.msgType} 窗口`,this.$refs.message.open()},inputDialogToggle(){this.$refs.inputDialog.open()},dialogClose(){console.log("点击关闭")},dialogInputConfirm(e){y({title:"3秒后会关闭"}),setTimeout((()=>{b(),console.log(e),this.value=e,this.$refs.inputDialog.close()}),3e3)},shareToggle(){this.$refs.share.open()}}},[["render",function(a,c,d,r,f,g){const h=i,m=k(T("uni-card"),C),_=x,y=p,b=k(T("uni-section"),w),v=k(T("uni-popup"),$),S=k(T("uni-popup-message"),D),j=k(T("uni-popup-dialog"),P),q=k(T("uni-popup-share"),z);return e(),t(y,{class:"container"},{default:l((()=>[o(m,{"is-full":"","is-shadow":!1},{default:l((()=>[o(h,{class:"uni-h6"},{default:l((()=>[n("弹出层组件用于弹出一个覆盖到页面上的内容，使用场景如：底部弹出分享弹窗、页面插屏广告等。")])),_:1})])),_:1}),o(b,{title:"基本示例",type:"line"},{default:l((()=>[o(y,{class:"example-body box"},{default:l((()=>[o(_,{class:"button",type:"primary",onClick:c[0]||(c[0]=e=>g.toggle("top"))},{default:l((()=>[o(h,{class:"button-text"},{default:l((()=>[n("顶部")])),_:1})])),_:1}),o(_,{class:"button",type:"primary",onClick:c[1]||(c[1]=e=>g.toggle("bottom"))},{default:l((()=>[o(h,{class:"button-text"},{default:l((()=>[n("底部")])),_:1})])),_:1}),o(_,{class:"button",type:"primary",onClick:c[2]||(c[2]=e=>g.toggle("center"))},{default:l((()=>[o(h,{class:"button-text"},{default:l((()=>[n("居中")])),_:1})])),_:1}),o(_,{class:"button",type:"primary",onClick:c[3]||(c[3]=e=>g.toggle("left"))},{default:l((()=>[o(h,{class:"button-text"},{default:l((()=>[n("左侧")])),_:1})])),_:1}),o(_,{class:"button",type:"primary",onClick:c[4]||(c[4]=e=>g.toggle("right"))},{default:l((()=>[o(h,{class:"button-text"},{default:l((()=>[n("右侧")])),_:1})])),_:1})])),_:1})])),_:1}),o(b,{title:"提示消息",type:"line"},{default:l((()=>[o(y,{class:"example-body box"},{default:l((()=>[o(_,{class:"button popup-success",onClick:c[5]||(c[5]=e=>g.messageToggle("success"))},{default:l((()=>[o(h,{class:"button-text success-text"},{default:l((()=>[n("成功")])),_:1})])),_:1}),o(_,{class:"button popup-error",onClick:c[6]||(c[6]=e=>g.messageToggle("error"))},{default:l((()=>[o(h,{class:"button-text error-text"},{default:l((()=>[n("失败")])),_:1})])),_:1}),o(_,{class:"button popup-warn",onClick:c[7]||(c[7]=e=>g.messageToggle("warn"))},{default:l((()=>[o(h,{class:"button-text warn-text"},{default:l((()=>[n("警告")])),_:1})])),_:1}),o(_,{class:"button popup-info",onClick:c[8]||(c[8]=e=>g.messageToggle("info"))},{default:l((()=>[o(h,{class:"button-text info-text"},{default:l((()=>[n("信息")])),_:1})])),_:1})])),_:1})])),_:1}),o(b,{title:"对话框示例",type:"line",class:"hideOnPc"},{default:l((()=>[o(y,{class:"example-body box"},{default:l((()=>[o(_,{class:"button popup-success",onClick:c[9]||(c[9]=e=>g.dialogToggle("success"))},{default:l((()=>[o(h,{class:"button-text success-text"},{default:l((()=>[n("成功")])),_:1})])),_:1}),o(_,{class:"button popup-error",onClick:c[10]||(c[10]=e=>g.dialogToggle("error"))},{default:l((()=>[o(h,{class:"button-text error-text"},{default:l((()=>[n("失败")])),_:1})])),_:1}),o(_,{class:"button popup-warn",onClick:c[11]||(c[11]=e=>g.dialogToggle("warn"))},{default:l((()=>[o(h,{class:"button-text warn-text"},{default:l((()=>[n("警告")])),_:1})])),_:1}),o(_,{class:"button popup-info",onClick:c[12]||(c[12]=e=>g.dialogToggle("info"))},{default:l((()=>[o(h,{class:"button-text info-text"},{default:l((()=>[n("信息")])),_:1})])),_:1})])),_:1})])),_:1}),o(b,{title:"输入框示例",type:"line",padding:""},{default:l((()=>[o(y,{class:"dialog-box"},{default:l((()=>[o(h,{class:"dialog-text"},{default:l((()=>[n("输入内容："+u(f.value),1)])),_:1})])),_:1}),o(_,{class:"button",type:"primary",onClick:g.inputDialogToggle},{default:l((()=>[o(h,{class:"button-text"},{default:l((()=>[n("输入对话框")])),_:1})])),_:1},8,["onClick"])])),_:1}),o(b,{title:"底部分享示例",type:"line",padding:""},{default:l((()=>[o(_,{class:"button",type:"primary",onClick:g.shareToggle},{default:l((()=>[o(h,{class:"button-text"},{default:l((()=>[n("分享模版示例")])),_:1})])),_:1},8,["onClick"])])),_:1}),o(y,null,{default:l((()=>[o(v,{ref:"popup","background-color":"#fff",onChange:g.change},{default:l((()=>[o(y,{class:s(["popup-content",{"popup-height":"left"===f.type||"right"===f.type}])},{default:l((()=>[o(h,{class:"text"},{default:l((()=>[n("popup 内容")])),_:1})])),_:1},8,["class"])])),_:1},8,["onChange"])])),_:1}),o(y,null,{default:l((()=>[o(v,{ref:"message",type:"message"},{default:l((()=>[o(S,{type:f.msgType,message:f.messageText,duration:2e3},null,8,["type","message"])])),_:1},512)])),_:1}),o(y,null,{default:l((()=>[o(v,{ref:"alertDialog",type:"dialog"},{default:l((()=>[o(j,{type:f.msgType,cancelText:"关闭",confirmText:"同意",title:"通知",content:"欢迎使用 uni-popup!",onConfirm:g.dialogConfirm,onClose:g.dialogClose},null,8,["type","onConfirm","onClose"])])),_:1},512)])),_:1}),o(y,null,{default:l((()=>[o(v,{ref:"inputDialog",type:"dialog"},{default:l((()=>[o(j,{ref:"inputClose",mode:"input",title:"输入内容",value:"对话框预置提示内容!",placeholder:"请输入内容",onConfirm:g.dialogInputConfirm},null,8,["onConfirm"])])),_:1},512)])),_:1}),o(y,null,{default:l((()=>[o(v,{ref:"share",type:"share",safeArea:"",backgroundColor:"#fff"},{default:l((()=>[o(q)])),_:1},512)])),_:1})])),_:1})}],["__scopeId","data-v-373ca757"]]);export{I as default};
