import{m as t,o as i,p as o,q as e,n,i as s,s as a,h as r,d as l,F as c,f as h,j as f,t as u,A as p,x as d,y as _,P as b,I as g,K as m}from"./index-DQotwNSd.js";import{_ as y}from"./uni-card.DtmtsBix.js";import{r as C}from"./uni-app.es.Dfk47BXh.js";import{_ as v}from"./uni-section.DD6p8Tlx.js";import{_ as k}from"./uni-icons.DpKtHwQd.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";const w=x({name:"UniFab",emits:["fabClick","trigger"],props:{pattern:{type:Object,default:()=>({})},horizontal:{type:String,default:"left"},vertical:{type:String,default:"bottom"},direction:{type:String,default:"horizontal"},content:{type:Array,default:()=>[]},show:{type:Boolean,default:!1},popMenu:{type:Boolean,default:!0}},data:()=>({fabShow:!1,isShow:!1,isAndroidNvue:!1,styles:{color:"#3c3e49",selectedColor:"#007AFF",backgroundColor:"#fff",buttonColor:"#007AFF",iconColor:"#fff",icon:"plusempty"}}),computed:{contentWidth(t){return 55*(this.content.length+1)+15+"px"},contentWidthMin:()=>"55px",boxWidth(){return this.getPosition(3,"horizontal")},boxHeight(){return this.getPosition(3,"vertical")},leftBottom(){return this.getPosition(0,"left","bottom")},rightBottom(){return this.getPosition(0,"right","bottom")},leftTop(){return this.getPosition(0,"left","top")},rightTop(){return this.getPosition(0,"right","top")},flexDirectionStart(){return this.getPosition(1,"vertical","top")},flexDirectionEnd(){return this.getPosition(1,"vertical","bottom")},horizontalLeft(){return this.getPosition(2,"horizontal","left")},horizontalRight(){return this.getPosition(2,"horizontal","right")},nvueBottom:()=>30},watch:{pattern:{handler(t,i){this.styles=Object.assign({},this.styles,t)},deep:!0}},created(){this.isShow=this.show,0===this.top&&(this.fabShow=!0),this.styles=Object.assign({},this.styles,this.pattern)},methods:{_onClick(){this.$emit("fabClick"),this.popMenu&&(this.isShow=!this.isShow)},open(){this.isShow=!0},close(){this.isShow=!1},_onItemClick(t,i){this.isShow&&this.$emit("trigger",{index:t,item:i})},getPosition(t,i,o){return 0===t?this.horizontal===i&&this.vertical===o:1===t?this.direction===i&&this.vertical===o:2===t?this.direction===i&&this.horizontal===o:this.isShow&&this.direction===i?this.contentWidth:this.contentWidthMin}}},[["render",function(b,g,m,y,v,x){const w=p,B=d,z=_,S=C(t("uni-icons"),k);return i(),o(w,{class:"uni-cursor-point"},{default:e((()=>[m.popMenu&&(x.leftBottom||x.rightBottom||x.leftTop||x.rightTop)&&m.content.length>0?(i(),o(w,{key:0,class:n([{"uni-fab--leftBottom":x.leftBottom,"uni-fab--rightBottom":x.rightBottom,"uni-fab--leftTop":x.leftTop,"uni-fab--rightTop":x.rightTop},"uni-fab"]),style:s(x.nvueBottom)},{default:e((()=>[a(w,{class:n([{"uni-fab__content--left":"left"===m.horizontal,"uni-fab__content--right":"right"===m.horizontal,"uni-fab__content--flexDirection":"vertical"===m.direction,"uni-fab__content--flexDirectionStart":x.flexDirectionStart,"uni-fab__content--flexDirectionEnd":x.flexDirectionEnd,"uni-fab__content--other-platform":!v.isAndroidNvue},"uni-fab__content"]),style:s({width:x.boxWidth,height:x.boxHeight,backgroundColor:v.styles.backgroundColor}),elevation:"5"},{default:e((()=>[x.flexDirectionStart||x.horizontalLeft?(i(),o(w,{key:0,class:"uni-fab__item uni-fab__item--first"})):r("",!0),(i(!0),l(c,null,h(m.content,((t,r)=>(i(),o(w,{key:r,class:n([{"uni-fab__item--active":v.isShow},"uni-fab__item"]),onClick:i=>x._onItemClick(r,t)},{default:e((()=>[a(B,{src:t.active?t.selectedIconPath:t.iconPath,class:"uni-fab__item-image",mode:"aspectFit"},null,8,["src"]),a(z,{class:"uni-fab__item-text",style:s({color:t.active?v.styles.selectedColor:v.styles.color})},{default:e((()=>[f(u(t.text),1)])),_:2},1032,["style"])])),_:2},1032,["class","onClick"])))),128)),x.flexDirectionEnd||x.horizontalRight?(i(),o(w,{key:1,class:"uni-fab__item uni-fab__item--first"})):r("",!0)])),_:1},8,["class","style"])])),_:1},8,["class","style"])):r("",!0),a(w,{class:n([{"uni-fab__circle--leftBottom":x.leftBottom,"uni-fab__circle--rightBottom":x.rightBottom,"uni-fab__circle--leftTop":x.leftTop,"uni-fab__circle--rightTop":x.rightTop,"uni-fab__content--other-platform":!v.isAndroidNvue},"uni-fab__circle uni-fab__plus"]),style:s({"background-color":v.styles.buttonColor,bottom:x.nvueBottom}),onClick:x._onClick},{default:e((()=>[a(S,{class:n(["fab-circle-icon",{"uni-fab__plus--active":v.isShow&&m.content.length>0}]),type:v.styles.icon,color:v.styles.iconColor,size:"32"},null,8,["type","color","class"])])),_:1},8,["class","style","onClick"])])),_:1})}],["__scopeId","data-v-b5a7ca4a"]]);const B=x({components:{},data:()=>({title:"uni-fab",directionStr:"垂直",horizontal:"left",vertical:"bottom",direction:"horizontal",pattern:{color:"#7A7E83",backgroundColor:"#fff",selectedColor:"#007AFF",buttonColor:"#007AFF",iconColor:"#fff"},is_color_type:!1,content:[{iconPath:"/static/image.png",selectedIconPath:"/static/image-active.png",text:"相册",active:!1},{iconPath:"/static/home.png",selectedIconPath:"/static/home-active.png",text:"首页",active:!1},{iconPath:"/static/star.png",selectedIconPath:"/static/star-active.png",text:"收藏",active:!1}]}),onBackPress(){return!!this.$refs.fab.isShow&&(this.$refs.fab.close(),!0)},methods:{trigger(t){console.log(t),this.content[t.index].active=!t.item.active,b({title:"提示",content:`您${this.content[t.index].active?"选中了":"取消了"}${t.item.text}`,success:function(t){t.confirm?console.log("用户点击确定"):t.cancel&&console.log("用户点击取消")}})},fabClick(){g({title:"点击了悬浮按钮",icon:"none"})},switchBtn(t,i){0===t?(this.direction="horizontal"===this.direction?"vertical":"horizontal",this.directionStr="horizontal"===this.direction?"垂直":"水平"):(this.horizontal=t,this.vertical=i),this.$forceUpdate()},switchColor(){this.is_color_type=!this.is_color_type,this.is_color_type?(this.pattern.iconColor="#aaa",this.pattern.buttonColor="#fff"):(this.pattern.iconColor="#fff",this.pattern.buttonColor="#007AFF")}}},[["render",function(n,s,r,l,c,h){const d=_,b=C(t("uni-card"),y),g=m,k=p,x=C(t("uni-section"),v),B=C(t("uni-fab"),w);return i(),o(k,{class:"container"},{default:e((()=>[a(b,{"is-shadow":!1,"is-full":""},{default:e((()=>[a(d,{class:"uni-h6"},{default:e((()=>[f("uni-ui 规范颜色色板，通过内置样式快速指定元素前景和背景色。")])),_:1})])),_:1}),a(x,{title:"基本功能",subTitle:"点击按钮,切换 fab 不同状态",type:"line"},{default:e((()=>[a(k,{class:"warp"},{default:e((()=>[a(g,{class:"button",type:"primary",onClick:s[0]||(s[0]=t=>h.switchBtn(0))},{default:e((()=>[f("切换菜单方向("+u(c.directionStr)+")",1)])),_:1}),a(g,{class:"button",type:"primary",onClick:s[1]||(s[1]=t=>h.switchBtn("left","bottom"))},{default:e((()=>[f("左下角显示")])),_:1}),a(g,{class:"button",type:"primary",onClick:s[2]||(s[2]=t=>h.switchBtn("right","bottom"))},{default:e((()=>[f("右下角显示")])),_:1}),a(g,{class:"button",type:"primary",onClick:s[3]||(s[3]=t=>h.switchBtn("left","top"))},{default:e((()=>[f("左上角显示")])),_:1}),a(g,{class:"button",type:"primary",onClick:s[4]||(s[4]=t=>h.switchBtn("right","top"))},{default:e((()=>[f("右上角显示")])),_:1}),a(g,{class:"button",type:"primary",onClick:h.switchColor},{default:e((()=>[f("修改颜色")])),_:1},8,["onClick"])])),_:1})])),_:1}),a(B,{ref:"fab",pattern:c.pattern,content:c.content,horizontal:c.horizontal,vertical:c.vertical,direction:c.direction,onTrigger:h.trigger,onFabClick:h.fabClick},null,8,["pattern","content","horizontal","vertical","direction","onTrigger","onFabClick"])])),_:1})}],["__scopeId","data-v-05ca9c9d"]]);export{B as default};
