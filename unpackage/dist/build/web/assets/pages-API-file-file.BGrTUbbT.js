import{ax as e,aq as a,b4 as t,aA as s,P as l,a$ as i,b5 as c,m as o,p as n,q as h,A as d,o as p,s as m,h as u,j as F,x as r,K as P}from"./index-DQotwNSd.js";import{_ as f}from"./page-head.CAicG8M0.js";import{r as v}from"./uni-app.es.Dfk47BXh.js";import{_}from"./_plugin-vue_export-helper.BCo6x5W8.js";const C=_({data:()=>({title:"saveFile",tempFilePath:"",savedFilePath:""}),onLoad(){this.savedFilePath=e("savedFilePath")},methods:{chooseImage(){a({count:1,success:e=>{this.tempFilePath=e.tempFilePaths[0]},fail:e=>{}})},saveFile(){this.tempFilePath.length>0?t({tempFilePath:this.tempFilePath,success:e=>{this.savedFilePath=e.savedFilePath,s("savedFilePath",e.savedFilePath),l({title:"保存成功",content:"下次进入页面时，此文件仍可用",showCancel:!1})},fail:e=>{l({title:"保存失败",content:"失败原因: "+JSON.stringify(e),showCancel:!1})}}):l({content:"请选择文件",showCancel:!1})},clear(){s("savedFilePath",""),this.tempFilePath="",this.savedFilePath=""},openDocument(){i({url:"https://web-assets.dcloud.net.cn/unidoc/zh/helloworld.pdf",success:e=>{c({filePath:e.tempFilePath,success:()=>{console.log("打开文档成功")}})}})}}},[["render",function(e,a,t,s,l,i){const c=v(o("page-head"),f),_=r,C=d,g=P;return p(),n(C,null,{default:h((()=>[m(c,{title:l.title},null,8,["title"]),m(C,{class:"uni-padding-wrap uni-common-mt"},{default:h((()=>[l.tempFilePath?(p(),n(_,{key:0,src:l.tempFilePath,class:"image",mode:"aspectFit"},null,8,["src"])):u("",!0),!l.tempFilePath&&l.savedFilePath?(p(),n(_,{key:1,src:l.savedFilePath,class:"image",mode:"aspectFit"},null,8,["src"])):u("",!0),l.tempFilePath||l.savedFilePath?u("",!0):(p(),n(C,{key:2,class:"uni-hello-addfile",onClick:i.chooseImage},{default:h((()=>[F("+ 请选择文件")])),_:1},8,["onClick"])),m(C,{class:"uni-btn-v"},{default:h((()=>[m(g,{class:"btn-savefile",onClick:i.saveFile},{default:h((()=>[F("保存文件")])),_:1},8,["onClick"]),m(g,{onClick:i.clear},{default:h((()=>[F("删除文件")])),_:1},8,["onClick"])])),_:1}),m(C,{class:"btn-area"},{default:h((()=>[m(g,{onClick:i.openDocument},{default:h((()=>[F("打开pdf文件")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-452cb4ca"]]);export{C as default};
