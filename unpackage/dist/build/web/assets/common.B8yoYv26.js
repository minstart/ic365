import{L as t,M as s,N as e,O as a,P as o,Q as r}from"./index-DQotwNSd.js";const l={data(){return{loading2:!1,staticUrl:this.$store.state.configData.staticUrl}},onLoad(){console.log(this.$store.state.hasLogin),console.log(this.$store.state.configData.staticUrl),console.log(this.staticUrl)},methods:{commonRequest(a){let o=a.success?a.success:()=>{},r=a.error?a.error:()=>{};t(),a.url&&-1==a.url.indexOf("http")&&(a.url=this.staticUrl+a.url),s({url:a.url,dataType:a.dataType||"json",method:a.type||"post",timeout:a.timeout||1e4,data:a.data,success:t=>{console.log("request success：",t),o()},fail:t=>{console.log("request error：",t),r()},complete:()=>{this.loading=!1,e()}})},uniSetStorage(t){if(!t||!t.key||!t.data)return console.log("存储数据失败：缺少key|data"),!1;"object"==typeof t.data&&(t.data=JSON.stringify(t.data)),a({key:t.key,data:t.data,success:t=>{o({title:"存储数据成功",content:JSON.stringify(t.errMsg),showCancel:!1})},fail:()=>{o({title:"储存数据失败!",showCancel:!1})}})},uniClearStorage:function(){r()}}};export{l as c};
