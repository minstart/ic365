import{m as e,o as t,p as l,q as a,i as o,s,j as i,t as n,h as u,d,F as c,f as r,n as p,y as m,A as h,ac as _,_ as f}from"./index-DQotwNSd.js";import{_ as y}from"./uni-card.DtmtsBix.js";import{r as b}from"./uni-app.es.Dfk47BXh.js";import{_ as V}from"./uni-icons.DpKtHwQd.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as S}from"./uni-section.DD6p8Tlx.js";const C=x({name:"uniCombox",emits:["input","update:modelValue"],props:{clearAble:{type:Boolean,default:!1},border:{type:Boolean,default:!0},label:{type:String,default:""},labelWidth:{type:String,default:"auto"},placeholder:{type:String,default:""},candidates:{type:Array,default:()=>[]},emptyTips:{type:String,default:"无匹配项"},modelValue:{type:[String,Number],default:""}},data:()=>({showSelector:!1,inputVal:""}),computed:{labelStyle(){return"auto"===this.labelWidth?"":`width: ${this.labelWidth}`},filterCandidates(){return this.candidates.filter((e=>e.toString().indexOf(this.inputVal)>-1))},filterCandidatesLength(){return this.filterCandidates.length}},watch:{modelValue:{handler(e){this.inputVal=e},immediate:!0}},methods:{toggleSelector(){this.showSelector=!this.showSelector},onFocus(){this.showSelector=!0},onBlur(){setTimeout((()=>{this.showSelector=!1}),153)},onSelectorClick(e){this.inputVal=this.filterCandidates[e],this.showSelector=!1,this.$emit("input",this.inputVal),this.$emit("update:modelValue",this.inputVal)},onInput(){setTimeout((()=>{this.$emit("input",this.inputVal),this.$emit("update:modelValue",this.inputVal)}))},clean(){this.inputVal="",this.onInput()}}},[["render",function(y,x,S,C,g,k){const w=m,T=h,j=_,I=b(e("uni-icons"),V),B=f;return t(),l(T,{class:p(["uni-combox",S.border?"":"uni-combox__no-border"])},{default:a((()=>[S.label?(t(),l(T,{key:0,class:"uni-combox__label",style:o(k.labelStyle)},{default:a((()=>[s(w,null,{default:a((()=>[i(n(S.label),1)])),_:1})])),_:1},8,["style"])):u("",!0),s(T,{class:"uni-combox__input-box"},{default:a((()=>[s(j,{class:"uni-combox__input",type:"text",placeholder:S.placeholder,"placeholder-class":"uni-combox__input-plac",modelValue:g.inputVal,"onUpdate:modelValue":x[0]||(x[0]=e=>g.inputVal=e),onInput:k.onInput,onFocus:k.onFocus,onBlur:k.onBlur},null,8,["placeholder","modelValue","onInput","onFocus","onBlur"]),g.inputVal&&S.clearAble?u("",!0):(t(),l(I,{key:0,type:g.showSelector?"top":"bottom",size:"14",color:"#999",onClick:k.toggleSelector},null,8,["type","onClick"])),g.inputVal&&S.clearAble?(t(),l(I,{key:1,type:"clear",size:"24",color:"#999",onClick:k.clean},null,8,["onClick"])):u("",!0)])),_:1}),g.showSelector?(t(),l(T,{key:1,class:"uni-combox__selector"},{default:a((()=>[s(T,{class:"uni-popper__arrow"}),s(B,{"scroll-y":"true",class:"uni-combox__selector-scroll"},{default:a((()=>[0===k.filterCandidatesLength?(t(),l(T,{key:0,class:"uni-combox__selector-empty"},{default:a((()=>[s(w,null,{default:a((()=>[i(n(S.emptyTips),1)])),_:1})])),_:1})):u("",!0),(t(!0),d(c,null,r(k.filterCandidates,((e,o)=>(t(),l(T,{class:"uni-combox__selector-item",key:o,onClick:e=>k.onSelectorClick(o)},{default:a((()=>[s(w,null,{default:a((()=>[i(n(e),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):u("",!0)])),_:1},8,["class"])}],["__scopeId","data-v-90eaae72"]]);const g=x({components:{},data:()=>({candidates:["北京","南京","东京","武汉","天津","上海","海口"],city:""}),methods:{}},[["render",function(o,u,d,c,r,p){const _=m,f=b(e("uni-card"),y),V=b(e("uni-combox"),C),x=h,g=b(e("uni-section"),S);return t(),l(x,{class:"container"},{default:a((()=>[s(f,{"is-shadow":!1,"is-full":""},{default:a((()=>[s(_,{class:"uni-h6"},{default:a((()=>[i("组合框一般用于可以选择也可以输入的表单项。")])),_:1})])),_:1}),s(g,{title:"基本用法",type:"line"},{default:a((()=>[s(x,{class:"example-body"},{default:a((()=>[s(V,{candidates:r.candidates,placeholder:"请选择所在城市",modelValue:r.city,"onUpdate:modelValue":u[0]||(u[0]=e=>r.city=e)},null,8,["candidates","modelValue"]),s(x,{class:"result-box"},{default:a((()=>[s(_,null,{default:a((()=>[i("所选城市为："+n(r.city),1)])),_:1})])),_:1})])),_:1})])),_:1}),s(g,{title:"无边框",subTitle:"使用 border = false 取消边框",type:"line"},{default:a((()=>[s(x,{class:"example-body"},{default:a((()=>[s(V,{border:!1,candidates:r.candidates,placeholder:"请选择所在城市"},null,8,["candidates"])])),_:1})])),_:1}),s(g,{title:"设置无匹配项时的提示语",subTitle:"使用 emptyTips 属性设置无匹配项时的提示语",type:"line"},{default:a((()=>[s(x,{class:"example-body"},{default:a((()=>[s(V,{emptyTips:"这里啥都没有",placeholder:"请选择所在城市"})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-d1b68d2d"]]);export{g as default};
