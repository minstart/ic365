{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\后台\\src\\views\\question\\edit.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\后台\\src\\views\\question\\edit.vue","mtime":1752293339480},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\babel.config.js","mtime":1592918105000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvXHU1NDBFXHU1M0YwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllcy5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC9cdTU0MEVcdTUzRjAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwp2YXIgX2V4Y2x1ZGVkID0gWyJ0b3BpY0NvbnRlbnQiLCAidG9waWNBbnN3ZXIiLCAidG9waWNBbmFseXNpcyJdOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBnZXRRdWVzdGlvbkRldGFpbCwgdXBkYXRlUXVlc3Rpb24sIGNyZWF0ZVF1ZXN0aW9uIH0gZnJvbSAnQC9hcGkvcXVlc3Rpb24nOwppbXBvcnQgeyBnZXRCeUdyYWRlQW5kU2VtZXN0ZXIgfSBmcm9tICdAL2FwaS9jYXRlZ29yeSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUXVlc3Rpb25FZGl0JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGNhdGVnb3J5TG9hZGluZzogZmFsc2UsCiAgICAgIGZvcm1EYXRhOiB7CiAgICAgICAgcXVlc3Rpb25JZDogJycsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICAgIGFuc3dlcjogJycsCiAgICAgICAgYW5hbHlzaXM6ICcnLAogICAgICAgIHRvcGljQ29udGVudDogJycsCiAgICAgICAgLy8g5Y+q6K+777yM5LiN5o+Q5LqkCiAgICAgICAgdG9waWNBbnN3ZXI6ICcnLAogICAgICAgIC8vIOWPquivu++8jOS4jeaPkOS6pAogICAgICAgIHRvcGljQW5hbHlzaXM6ICcnLAogICAgICAgIC8vIOWPquivu++8jOS4jeaPkOS6pAogICAgICAgIHR5cGVUZXh0OiAnJywKICAgICAgICBjcmVhdGVUaW1lOiAnJywKICAgICAgICBjYXRlZ29yeUlkOiBudWxsLAogICAgICAgIC8vIOS/ruaUueS4umNhdGVnb3J5SWQKICAgICAgICBzdGF0dXNUZXh0OiAnJywKICAgICAgICBncmFkZVRleHQ6ICcnLAogICAgICAgIHNlbWVzdGVyOiAnbm9uZScsCiAgICAgICAgb3B0aW9uczogJycKICAgICAgfSwKICAgICAgZ3JhZGVzOiBbewogICAgICAgIHZhbHVlOiAnMScsCiAgICAgICAgbGFiZWw6ICcx5bm057qnJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICcyJywKICAgICAgICBsYWJlbDogJzLlubTnuqcnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJzMnLAogICAgICAgIGxhYmVsOiAnM+W5tOe6pycKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnNCcsCiAgICAgICAgbGFiZWw6ICc05bm057qnJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICc1JywKICAgICAgICBsYWJlbDogJzXlubTnuqcnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJzYnLAogICAgICAgIGxhYmVsOiAnNuW5tOe6pycKICAgICAgfV0sCiAgICAgIGNhdGVnb3JpZXM6IFtdLAogICAgICBvcmlnaW5hbERhdGE6IHt9LAogICAgICBpZDogbnVsbCwKICAgICAgaXNFZGl0TW9kZTogdHJ1ZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBwYWdlVGl0bGU6IGZ1bmN0aW9uIHBhZ2VUaXRsZSgpIHsKICAgICAgaWYgKHRoaXMuaXNFZGl0TW9kZSkgewogICAgICAgIHJldHVybiAiXHU5ODk4XHU3NkVFXHU3RjE2XHU4RjkxIC0gIi5jb25jYXQodGhpcy5mb3JtRGF0YS50aXRsZSB8fCAn5paw6aKY55uuJyk7CiAgICAgIH0KICAgICAgcmV0dXJuICfmlrDlop7popjnm64nOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMucXVlc3Rpb25faWQgfHwgdGhpcy4kcm91dGUucXVlcnkucXVlc3Rpb25faWQ7CiAgICB0aGlzLmlzRWRpdE1vZGUgPSAhIXRoaXMuaWQ7CiAgICBpZiAoIXRoaXMuaXNFZGl0TW9kZSkgewogICAgICAvLyDmlrDlop7mqKHlvI/vvIzliJ3lp4vljJbnqbrooajljZUKICAgICAgdGhpcy5vcmlnaW5hbERhdGEgPSBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmZvcm1EYXRhKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgdGhpcy5mZXRjaERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoRGF0YTogZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBnZXRRdWVzdGlvbkRldGFpbCh0aGlzLmlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmZvcm1EYXRhID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgLy8g5aSE55CG5bm057qn5qC85byPCiAgICAgICAgaWYgKF90aGlzLmZvcm1EYXRhLmdyYWRlVGV4dCkgewogICAgICAgICAgdmFyIGdyYWRlVmFsdWUgPSBfdGhpcy5mb3JtRGF0YS5ncmFkZVRleHQucmVwbGFjZSgn5bm057qnJywgJycpOwogICAgICAgICAgX3RoaXMuZm9ybURhdGEuZ3JhZGVUZXh0ID0gZ3JhZGVWYWx1ZTsKICAgICAgICB9CgogICAgICAgIC8vIOehruS/neWIhuexu0lE5q2j56GuCiAgICAgICAgaWYgKF90aGlzLmZvcm1EYXRhLmNhdGVnb3J5TmFtZSkgewogICAgICAgICAgLy8g5aaC5p6c5ZCO56uv6L+U5Zue55qE5piv5YiG57G75ZCN56ew77yM6ZyA6KaB6L2s5o2i5Li6SUQKICAgICAgICAgIC8vIOi/memHjOWBh+iuvuWQjuerr+i/lOWbnuS6huWIhuexu0lECiAgICAgICAgICBfdGhpcy5mb3JtRGF0YS5jYXRlZ29yeUlkID0gX3RoaXMuZm9ybURhdGEuY2F0ZWdvcnlJZCB8fCBudWxsOwogICAgICAgIH0KCiAgICAgICAgLy8g5aaC5p6c5pyJ5YiG57G75L+h5oGv77yM5bCd6K+V5Yqg6L295a+55bqU55qE5YiG57G7CiAgICAgICAgaWYgKF90aGlzLmZvcm1EYXRhLmdyYWRlVGV4dCAmJiBfdGhpcy5mb3JtRGF0YS5zZW1lc3RlcikgewogICAgICAgICAgX3RoaXMubG9hZENhdGVnb3JpZXMoX3RoaXMuZm9ybURhdGEuZ3JhZGVUZXh0LCBfdGhpcy5mb3JtRGF0YS5zZW1lc3Rlcik7CiAgICAgICAgfQogICAgICAgIF90aGlzLm9yaWdpbmFsRGF0YSA9IF9vYmplY3RTcHJlYWQoe30sIF90aGlzLmZvcm1EYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign6I635Y+W6aKY55uu6K+m5oOF5aSx6LSlOicsIGVycm9yKTsKICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W6aKY55uu6K+m5oOF5aSx6LSlOiAnICsgKGVycm9yLm1lc3NhZ2UgfHwgJ+acquefpemUmeivrycpKTsKICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVHcmFkZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlR3JhZGVDaGFuZ2UoZ3JhZGUpIHsKICAgICAgaWYgKHRoaXMuZm9ybURhdGEuc2VtZXN0ZXIgJiYgdGhpcy5mb3JtRGF0YS5zZW1lc3RlciAhPT0gJ25vbmUnKSB7CiAgICAgICAgdGhpcy5sb2FkQ2F0ZWdvcmllcyhncmFkZSwgdGhpcy5mb3JtRGF0YS5zZW1lc3Rlcik7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVTZW1lc3RlckNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2VtZXN0ZXJDaGFuZ2Uoc2VtZXN0ZXIpIHsKICAgICAgLy8g5a2m5pyf5pS55Y+Y5pe26YeN572u5YiG57G76YCJ5oupCiAgICAgIHRoaXMuZm9ybURhdGEuY2F0ZWdvcnlJZCA9IG51bGw7CiAgICAgIHRoaXMuY2F0ZWdvcmllcyA9IFtdOwogICAgICBpZiAodGhpcy5mb3JtRGF0YS5ncmFkZVRleHQgJiYgc2VtZXN0ZXIgIT09ICdub25lJykgewogICAgICAgIHRoaXMubG9hZENhdGVnb3JpZXModGhpcy5mb3JtRGF0YS5ncmFkZVRleHQsIHNlbWVzdGVyKTsKICAgICAgfQogICAgfSwKICAgIGxvYWRDYXRlZ29yaWVzOiBmdW5jdGlvbiBsb2FkQ2F0ZWdvcmllcyhncmFkZSwgc2VtZXN0ZXIpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMuY2F0ZWdvcnlMb2FkaW5nID0gdHJ1ZTsKICAgICAgZ2V0QnlHcmFkZUFuZFNlbWVzdGVyKHBhcnNlSW50KGdyYWRlKSwgc2VtZXN0ZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmNhdGVnb3JpZXMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGlmIChfdGhpczIuY2F0ZWdvcmllcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5pbmZvKCfor6XlubTnuqflkozlrabmnJ/kuIvmsqHmnInmib7liLDliIbnsbsnKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluWIhuexu+Wksei0pTonLCBlcnJvcik7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKCfojrflj5bliIbnsbvlpLHotKU6ICcgKyAoZXJyb3IubWVzc2FnZSB8fCAn5pyq55+l6ZSZ6K+vJykpOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuY2F0ZWdvcnlMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICAvLyDlnKjmj5DkuqTliY3ovazmjaLlubTnuqfmoLzlvI8KICAgICAgdmFyIGZvcm1EYXRhQ29weSA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuZm9ybURhdGEpOwogICAgICBmb3JtRGF0YUNvcHkuZ3JhZGVUZXh0ID0gZm9ybURhdGFDb3B5LmdyYWRlVGV4dCArICflubTnuqcnOwoKICAgICAgLy8g56e76Zmk5LiN6ZyA6KaB5o+Q5Lqk55qE5a2X5q61CiAgICAgIHZhciB0b3BpY0NvbnRlbnQgPSBmb3JtRGF0YUNvcHkudG9waWNDb250ZW50LAogICAgICAgIHRvcGljQW5zd2VyID0gZm9ybURhdGFDb3B5LnRvcGljQW5zd2VyLAogICAgICAgIHRvcGljQW5hbHlzaXMgPSBmb3JtRGF0YUNvcHkudG9waWNBbmFseXNpcywKICAgICAgICBzdWJtaXREYXRhID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKGZvcm1EYXRhQ29weSwgX2V4Y2x1ZGVkKTsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIGFjdGlvbiA9IHRoaXMuaXNFZGl0TW9kZSA/IHVwZGF0ZVF1ZXN0aW9uKHRoaXMuZm9ybURhdGEucXVlc3Rpb25JZCwgc3VibWl0RGF0YSkgOiBjcmVhdGVRdWVzdGlvbihzdWJtaXREYXRhKTsKICAgICAgYWN0aW9uLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy4kbWVzc2FnZS5zdWNjZXNzKF90aGlzMy5pc0VkaXRNb2RlID8gJ+mimOebruabtOaWsOaIkOWKnycgOiAn6aKY55uu5Yib5bu65oiQ5YqfJyk7CiAgICAgICAgX3RoaXMzLmdvQmFjaygpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfmk43kvZzlpLHotKU6JywgZXJyb3IpOwogICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcigiIi5jb25jYXQoX3RoaXMzLmlzRWRpdE1vZGUgPyAn5pu05pawJyA6ICfliJvlu7onLCAiXHU5ODk4XHU3NkVFXHU1OTMxXHU4RDI1OiAiKS5jb25jYXQoZXJyb3IubWVzc2FnZSB8fCAn5pyq55+l6ZSZ6K+vJykpOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICByZXNldEZvcm06IGZ1bmN0aW9uIHJlc2V0Rm9ybSgpIHsKICAgICAgdGhpcy5mb3JtRGF0YSA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMub3JpZ2luYWxEYXRhKTsKICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCflt7Lph43nva7kuLrljp/lp4vmlbDmja4nKTsKICAgIH0sCiAgICBnb0JhY2s6IGZ1bmN0aW9uIGdvQmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9xdWVzdGlvbi9saXN0Jyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["getQuestionDetail","updateQuestion","createQuestion","getByGradeAndSemester","name","data","loading","categoryLoading","formData","questionId","title","content","answer","analysis","topicContent","topicAnswer","topicAnalysis","typeText","createTime","categoryId","statusText","gradeText","semester","options","grades","value","label","categories","originalData","id","isEditMode","computed","pageTitle","concat","created","$route","params","question_id","query","_objectSpread","fetchData","methods","_this","then","response","gradeValue","replace","categoryName","loadCategories","catch","error","console","$message","message","finally","handleGradeChange","grade","handleSemesterChange","_this2","parseInt","length","info","submitForm","_this3","formDataCopy","submitData","_objectWithoutProperties","_excluded","action","success","goBack","resetForm","$router","push"],"sources":["src/views/question/edit.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-card shadow=\"never\" class=\"edit-card\">\n      <div class=\"header\">\n        <el-button type=\"text\" icon=\"el-icon-arrow-left\" @click=\"goBack\">返回列表</el-button>\n        <h2 class=\"title\">{{ pageTitle }}</h2>\n      </div>\n\n      <el-form ref=\"form\" :model=\"formData\" label-width=\"120px\" label-position=\"top\">\n        <el-row :gutter=\"20\">\n          <el-col :span=\"24\">\n            <el-form-item label=\"题目ID\" prop=\"questionId\">\n              <el-input\n                v-model=\"formData.questionId\"\n                :disabled=\"isEditMode\"\n                :placeholder=\"isEditMode ? '' : '请输入题目ID'\"\n              />\n            </el-form-item>\n          </el-col>\n\n          <el-col :span=\"12\">\n            <el-form-item label=\"标题\" prop=\"title\" required>\n              <el-input v-model=\"formData.title\" placeholder=\"请输入题目标题\" />\n            </el-form-item>\n          </el-col>\n\n          <el-col :span=\"6\">\n            <el-form-item label=\"类型\" prop=\"typeText\" required>\n              <el-select v-model=\"formData.typeText\" placeholder=\"请选择类型\">\n                <el-option label=\"选择题\" value=\"选择题\" />\n                <el-option label=\"填空题\" value=\"填空题\" />\n                <el-option label=\"判断题\" value=\"判断题\" />\n                <el-option label=\"主观题\" value=\"主观题\" />\n              </el-select>\n            </el-form-item>\n          </el-col>\n\n          <el-col :span=\"6\">\n            <el-form-item label=\"状态\" prop=\"statusText\" required>\n              <el-select v-model=\"formData.statusText\" placeholder=\"请选择状态\">\n                <el-option label=\"启用\" value=\"启用\" />\n                <el-option label=\"禁用\" value=\"禁用\" />\n              </el-select>\n            </el-form-item>\n          </el-col>\n\n          <el-col :span=\"6\">\n            <el-form-item label=\"年级\" prop=\"gradeText\" required>\n              <el-select\n                v-model=\"formData.gradeText\"\n                placeholder=\"请选择年级\"\n                @change=\"handleGradeChange\"\n              >\n                <el-option\n                  v-for=\"g in grades\"\n                  :key=\"g.value\"\n                  :label=\"g.label\"\n                  :value=\"g.value\"\n                />\n              </el-select>\n            </el-form-item>\n          </el-col>\n\n          <el-col :span=\"6\">\n            <el-form-item label=\"学期\" prop=\"semester\" required>\n              <el-select\n                v-model=\"formData.semester\"\n                placeholder=\"请选择学期\"\n                @change=\"handleSemesterChange\"\n              >\n                <el-option label=\"无\" value=\"none\" />\n                <el-option label=\"上学期\" value=\"fall\" />\n                <el-option label=\"下学期\" value=\"spring\" />\n              </el-select>\n            </el-form-item>\n          </el-col>\n\n          <el-col :span=\"12\">\n            <el-form-item label=\"分类\" prop=\"categoryId\" required>\n              <el-select\n                v-model=\"formData.categoryId\"\n                placeholder=\"请先选择年级和学期\"\n                :loading=\"categoryLoading\"\n                filterable\n                clearable\n              >\n                <el-option\n                  v-for=\"c in categories\"\n                  :key=\"c.categoryId\"\n                  :label=\"c.name\"\n                  :value=\"c.categoryId\"\n                />\n              </el-select>\n            </el-form-item>\n          </el-col>\n\n          <!-- 题目内容 -->\n          <el-col :span=\"24\">\n            <el-form-item label=\"题目内容\" prop=\"content\" required>\n              <el-input\n                v-model=\"formData.content\"\n                type=\"textarea\"\n                :rows=\"4\"\n                placeholder=\"请输入题目内容\"\n              />\n            </el-form-item>\n          </el-col>\n\n          <!-- 关联题目内容（只读） -->\n          <el-col :span=\"24\">\n            <el-form-item label=\"关联题目内容\" prop=\"topicContent\">\n              <el-input\n                :value=\"formData.topicContent\"\n                type=\"textarea\"\n                :rows=\"4\"\n                placeholder=\"关联题目内容\"\n                disabled\n              />\n            </el-form-item>\n          </el-col>\n\n          <!-- 题目答案 -->\n          <el-col :span=\"24\">\n            <el-form-item label=\"题目答案\" prop=\"answer\" required>\n              <el-input\n                v-model=\"formData.answer\"\n                type=\"textarea\"\n                :rows=\"3\"\n                placeholder=\"请输入题目答案\"\n              />\n            </el-form-item>\n          </el-col>\n\n          <!-- 关联题目答案（只读） -->\n          <el-col :span=\"24\">\n            <el-form-item label=\"关联题目答案\" prop=\"topicAnswer\">\n              <el-input\n                :value=\"formData.topicAnswer\"\n                type=\"textarea\"\n                :rows=\"3\"\n                placeholder=\"关联题目答案\"\n                disabled\n              />\n            </el-form-item>\n          </el-col>\n\n          <!-- 题目解析 -->\n          <el-col :span=\"24\">\n            <el-form-item label=\"题目解析\" prop=\"analysis\" required>\n              <el-input\n                v-model=\"formData.analysis\"\n                type=\"textarea\"\n                :rows=\"4\"\n                placeholder=\"请输入题目解析\"\n              />\n            </el-form-item>\n          </el-col>\n\n          <!-- 关联题目解析（只读） -->\n          <el-col :span=\"24\">\n            <el-form-item label=\"关联题目解析\" prop=\"topicAnalysis\">\n              <el-input\n                :value=\"formData.topicAnalysis\"\n                type=\"textarea\"\n                :rows=\"4\"\n                placeholder=\"关联题目解析\"\n                disabled\n              />\n            </el-form-item>\n          </el-col>\n\n          <el-col :span=\"24\">\n            <el-form-item label=\"选项内容\" prop=\"options\">\n              <el-input\n                v-model=\"formData.options\"\n                type=\"textarea\"\n                :rows=\"3\"\n                placeholder=\"请输入选项内容（选择题需要）\"\n              />\n            </el-form-item>\n          </el-col>\n        </el-row>\n\n        <div class=\"form-footer\">\n          <el-button\n            type=\"primary\"\n            :loading=\"loading\"\n            @click=\"submitForm\"\n          >\n            {{ isEditMode ? '保存修改' : '创建题目' }}\n          </el-button>\n          <el-button @click=\"resetForm\">重置</el-button>\n        </div>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { getQuestionDetail, updateQuestion, createQuestion } from '@/api/question'\nimport { getByGradeAndSemester } from '@/api/category'\n\nexport default {\n  name: 'QuestionEdit',\n  data() {\n    return {\n      loading: false,\n      categoryLoading: false,\n      formData: {\n        questionId: '',\n        title: '',\n        content: '',\n        answer: '',\n        analysis: '',\n        topicContent: '',  // 只读，不提交\n        topicAnswer: '',   // 只读，不提交\n        topicAnalysis: '', // 只读，不提交\n        typeText: '',\n        createTime: '',\n        categoryId: null,  // 修改为categoryId\n        statusText: '',\n        gradeText: '',\n        semester: 'none',\n        options: ''\n      },\n      grades: [\n        { value: '1', label: '1年级' },\n        { value: '2', label: '2年级' },\n        { value: '3', label: '3年级' },\n        { value: '4', label: '4年级' },\n        { value: '5', label: '5年级' },\n        { value: '6', label: '6年级' }\n      ],\n      categories: [],\n      originalData: {},\n      id: null,\n      isEditMode: true\n    }\n  },\n  computed: {\n    pageTitle() {\n      if (this.isEditMode) {\n        return `题目编辑 - ${this.formData.title || '新题目'}`\n      }\n      return '新增题目'\n    }\n  },\n  created() {\n    this.id = this.$route.params.question_id || this.$route.query.question_id\n    this.isEditMode = !!this.id\n\n    if (!this.isEditMode) {\n      // 新增模式，初始化空表单\n      this.originalData = { ...this.formData }\n      return\n    }\n\n    this.fetchData()\n  },\n  methods: {\n    fetchData() {\n      this.loading = true\n      getQuestionDetail(this.id).then(response => {\n        this.formData = response.data\n\n        // 处理年级格式\n        if (this.formData.gradeText) {\n          const gradeValue = this.formData.gradeText.replace('年级', '')\n          this.formData.gradeText = gradeValue\n        }\n\n        // 确保分类ID正确\n        if (this.formData.categoryName) {\n          // 如果后端返回的是分类名称，需要转换为ID\n          // 这里假设后端返回了分类ID\n          this.formData.categoryId = this.formData.categoryId || null\n        }\n\n        // 如果有分类信息，尝试加载对应的分类\n        if (this.formData.gradeText && this.formData.semester) {\n          this.loadCategories(this.formData.gradeText, this.formData.semester)\n        }\n\n        this.originalData = { ...this.formData }\n      }).catch(error => {\n        console.error('获取题目详情失败:', error)\n        this.$message.error('获取题目详情失败: ' + (error.message || '未知错误'))\n      }).finally(() => {\n        this.loading = false\n      })\n    },\n\n    handleGradeChange(grade) {\n      if (this.formData.semester && this.formData.semester !== 'none') {\n        this.loadCategories(grade, this.formData.semester)\n      }\n    },\n\n    handleSemesterChange(semester) {\n      // 学期改变时重置分类选择\n      this.formData.categoryId = null\n      this.categories = []\n\n      if (this.formData.gradeText && semester !== 'none') {\n        this.loadCategories(this.formData.gradeText, semester)\n      }\n    },\n\n    loadCategories(grade, semester) {\n      this.categoryLoading = true\n      getByGradeAndSemester(parseInt(grade), semester)\n        .then(response => {\n          this.categories = response.data\n          if (this.categories.length === 0) {\n            this.$message.info('该年级和学期下没有找到分类')\n          }\n        })\n        .catch(error => {\n          console.error('获取分类失败:', error)\n          this.$message.error('获取分类失败: ' + (error.message || '未知错误'))\n        })\n        .finally(() => {\n          this.categoryLoading = false\n        })\n    },\n\n    submitForm() {\n      // 在提交前转换年级格式\n      const formDataCopy = { ...this.formData }\n      formDataCopy.gradeText = formDataCopy.gradeText + '年级'\n\n      // 移除不需要提交的字段\n      const { topicContent, topicAnswer, topicAnalysis, ...submitData } = formDataCopy\n\n      this.loading = true\n\n      const action = this.isEditMode\n        ? updateQuestion(this.formData.questionId, submitData)\n        : createQuestion(submitData)\n\n      action.then(() => {\n        this.$message.success(this.isEditMode ? '题目更新成功' : '题目创建成功')\n        this.goBack()\n      }).catch(error => {\n        console.error('操作失败:', error)\n        this.$message.error(`${this.isEditMode ? '更新' : '创建'}题目失败: ${error.message || '未知错误'}`)\n      }).finally(() => {\n        this.loading = false\n      })\n    },\n\n    resetForm() {\n      this.formData = { ...this.originalData }\n      this.$message.info('已重置为原始数据')\n    },\n\n    goBack() {\n      this.$router.push('/question/list')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.edit-card {\n  border-radius: 8px;\n  margin: 20px;\n}\n\n.header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 30px;\n  padding-bottom: 15px;\n  border-bottom: 1px solid #ebeef5;\n}\n\n.header .title {\n  margin-left: 20px;\n  font-size: 20px;\n  color: #303133;\n}\n\n.form-footer {\n  margin-top: 30px;\n  text-align: center;\n}\n\n.el-form-item {\n  margin-bottom: 22px;\n}\n\n.el-divider {\n  margin: 30px 0;\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}